---
title:
    - 动态导入
categories:
    - 前端
tags:
    - module
    - ES6
---



## import()表达式

`import(module)` 表达式加载模块并返回一个 promise，该 promise resolve 为一个包含其所有导出的模块对象



例如有以下模块`say.js`：

```javascript
// 📁 say.js
export function hi() {
  alert(`Hello`);
}

export function bye() {
  alert(`Bye`);
}
```



进行动态导入

```javascript
let {hi, bye} = await import('./say.js');

hi();
bye();
```



如果 `say.js` 有默认的导出:

```javascript
// 📁 say.js
export default function() {
  alert("Module loaded (export default)!");
}
```



我们可以使用模块对象的 `default` 属性来访问他

```javascript
let obj = await import('./say.js');
let say = obj.default;

say();
```



**完整示例⬇**



> say.js
>
> ```javascript
> export function hi() {
>   alert(`Hello`);
> }
> 
> export function bye() {
>   alert(`Bye`);
> }
> 
> export default function() {
>   alert("Module loaded (export default)!");
> }
> ```



> index.html
>
> ```html
> <!doctype html>
> <script>
>   async function load() {
>     let say = await import('./say.js');
>     say.hi(); // Hello!
>     say.bye(); // Bye!
>     say.default(); // Module loaded (export default)!
>   }
> </script>
> <button onclick="load()">Click me</button>
> ```



**动态导入在常规脚本中工作时，它们不需要 `script type="module"`.**



**不能将 `import` 复制到一个变量中，或者对其使用 `call/apply`。因为它不是一个函数**