---

categories:
    - å‰ç«¯
tags:
    - module
    - ES6
---



## åœ¨å£°æ˜å‰å¯¼å‡º

é€šè¿‡åœ¨å£°æ˜ä¹‹å‰æ”¾ç½®`export`æ¥æ ‡è®°ä»»æ„å£°æ˜ä¸ºå¯¼å‡ºï¼Œæ— è®ºå£°æ˜çš„æ˜¯å˜é‡ï¼Œå‡½æ•°è¿˜æ˜¯ç±»éƒ½å¯ä»¥ã€‚

```javascript
// å¯¼å‡ºæ•°ç»„
export let Number = ['One', 'Two', 'THree','Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];

// å¯¼å‡º const å£°æ˜çš„å˜é‡
export const YEAR = 2015;

// å¯¼å‡ºå‡½æ•°
export function Add(a,b) {
	console.log(a + b)
}
```



**å¯¼å‡ºå‡½æ•°åæ²¡æœ‰åˆ†å·**

åœ¨å‡½æ•°å‰é¢çš„`export` ä¸ä¼šè®©å®ƒä»¬å˜æˆ å‡½æ•°è¡¨è¾¾å¼ï¼Œè™½ç„¶è¢«å¯¼å‡ºäº†ï¼Œä½†è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜ï¼Œå¤§éƒ¨åˆ†JavaScript æ ·å¼æŒ‡å—éƒ½ä¸å»ºè®®åœ¨å‡½æ•°å’Œç±»å£°æ˜åä½¿ç”¨åˆ†å·



```javascript
export function sayHi(user) {
  alert(`Hello, ${user}!`);
}  // åœ¨è¿™é‡Œæ²¡æœ‰åˆ†å·
```



## å¯¼å‡ºä¸å£°æ˜åˆ†å¼€

å¯ä»¥å°† `export` åˆ†å¼€æ”¾ç½®ã€‚



```javascript
// ğŸ“ say.js
function sayHi(user) {
  alert(`Hello, ${user}!`);
}

function sayBye(user) {
  alert(`Bye, ${user}!`);
}

export {sayHi, sayBye}; // å¯¼å‡ºå˜é‡åˆ—è¡¨
```

ä¸Šè¿°ä»£ç æˆ‘ä»¬å…ˆå£°æ˜å‡½æ•°ï¼Œç„¶åå†ä¸€èµ·å¯¼å‡ºå®ƒä»¬



## Import *

é€šå¸¸æƒ…å†µï¼Œæˆ‘ä»¬è¦æŠŠå¯¼å…¥çš„ä¸œè¥¿æ”¾åœ¨èŠ±æ‹¬å·ä¸­ `import{...}`



```javascript
// ğŸ“ main.js
import {sayHi, sayBye} from './say.js';

sayHi('John'); // Hello, John!
sayBye('John'); // Bye, John!
```



ä½†æ˜¯å¦‚æœå¯¼å…¥å†…å®¹å¾ˆå¤šï¼Œå¯ä»¥ä½¿ç”¨ `import * as <obj>` å°†æ‰€æœ‰å†…å®¹å¯¼å…¥ä¸ºä¸€ä¸ªå¯¹è±¡



```javascript
// ğŸ“ main.js
import * as say from './say.js';

say.sayHi('John');
say.sayBye('John');
```



## Import "as"

å¯ä»¥ä½¿ç”¨ `as` è®©å¯¼å…¥å…·æœ‰ä¸åŒçš„åå­—



```javascript
import {sayHi as hi, sayBye as bye} from './say.js';

hi('John'); // Hello, John!
bye('John'); // Bye, John!
```

ä¸Šè¿°ä»£ç ï¼Œå°†`sayHi` å¯¼å…¥åˆ°å±€éƒ¨å˜é‡ `hi`ï¼Œå°† `sayBye` å¯¼å…¥åˆ° `bye`



## Export "as"

å¯¼å‡ºä¹Ÿæœ‰ç±»ä¼¼çš„è¯­æ³•



```javascript
// ğŸ“ say.js
...
export {sayHi as hi, sayBye as bye};
```

ä¸Šè¿°ä»£ç å°†å‡½æ•°å¯¼å‡ºä¸º `hi` å’Œ `bye`



 `hi` å’Œ `bye`ç°åœ¨æ˜¯å¤–é¢ä½¿ç”¨æ—¶çš„åç§°

```javascript
import * as say from './say.js';

say.hi('John'); // Hello, John!
say.bye('John'); // Bye, John!
```



## Export default

æ¨¡å—æä¾›äº†ç‰¹æ®Šçš„é»˜è®¤å¯¼å‡º `export default` è¯­æ³•ï¼Œæ„æ€æ˜¯â€œä¸€ä¸ªæ¨¡å—åªåšä¸€ä»¶äº‹â€



å°† `export default` æ”¾åœ¨è¦å¯¼å‡ºçš„å®ä½“å‰

```javascript
export default function User() {
	console.log("temp")
}
```



æ¯ä¸ªæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ª `export default`ï¼šå¯¼å…¥æ—¶ä¸éœ€è¦èŠ±æ‹¬å·



```javascript
// ğŸ“ main.js
import User from './user.js'; // ä¸éœ€è¦èŠ±æ‹¬å· {User}ï¼Œåªéœ€è¦å†™æˆ User å³å¯

new User('John');
```



è¦ç‚¹ï¼š`import` å‘½åçš„å¯¼å‡ºæ—¶éœ€è¦èŠ±æ‹¬å·ï¼Œè€Œ `import` é»˜è®¤çš„å¯¼å‡ºæ—¶ä¸éœ€è¦èŠ±æ‹¬å·ã€‚



| å‘½åçš„å¯¼å‡º                   | é»˜è®¤çš„å¯¼å‡º                           |
| ---------------------------- | ------------------------------------ |
| export function User() {...} | export default function User() {...} |
| import {User} from ...       | import User from ...                 |



é€šå¸¸ä¸è¦æ··åˆä½¿ç”¨å®ƒä»¬ã€‚æ¨¡å—è¦ä¹ˆæ˜¯å‘½åçš„å¯¼å‡ºè¦ä¹ˆæ˜¯é»˜è®¤çš„å¯¼å‡º

ç”±äºæ¯ä¸ªæ–‡ä»¶æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„å¯¼å‡ºï¼Œå› æ­¤å¯¼å‡ºçš„å®ä½“å¯èƒ½æ²¡æœ‰åç§°ã€‚



```javascript
export default function(user) { // æ²¡æœ‰å‡½æ•°å
  alert(`Hello, ${user}!`);
}
```



```javascript
// å¯¼å‡ºå•ä¸ªå€¼ï¼Œè€Œä¸ä½¿ç”¨å˜é‡
export default ['Jan', 'Feb', 'Mar','Apr', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
```



ä¸æŒ‡å®šåç§°æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæ¯ä¸ªæ–‡ä»¶åªæœ‰ä¸€ä¸ª`export default`ï¼Œæ‰€ä»¥`import`çŸ¥é“å¯¼å…¥çš„å†…å®¹æ˜¯ä»€ä¹ˆ



å¦‚æœæ²¡æœ‰`default`ï¼Œå¯¼å‡ºå°†ä¼šå‡ºé”™ï¼š

```javascript
export function { // Error!ï¼ˆéé»˜è®¤çš„å¯¼å‡ºéœ€è¦åç§°ï¼‰
  ...
}
```



**default åç§°**

åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œ`default` å…³é”®è¯è¢«ç”¨äºå¼•ç”¨é»˜è®¤çš„å¯¼å‡º



```javascript
function sayHi(user) {
  alert(`Hello, ${user}!`);
}

// å°±åƒæˆ‘ä»¬åœ¨å‡½æ•°ä¹‹å‰æ·»åŠ äº† "export default" ä¸€æ ·
export {sayHi as default};
```

ä¸Šè¿°ä»£ç å°†å‡½æ•°ä¸å®šä¹‰åˆ†å¼€å¯¼å‡º



å¦ä¸€ç§æƒ…å†µï¼Œæ¨¡å—å¯¼å‡ºä¸€ä¸ªä¸»è¦çš„é»˜è®¤çš„å¯¼å‡ºå’Œä¸€äº›å‘½åçš„å¯¼å‡º(ä¸å»ºè®®è¿™ä¹ˆåš)



```javascript
// ğŸ“ user.js
export default class User {
  constructor(name) {
    this.name = name;
  }
}

export function sayHi(user) {
  alert(`Hello, ${user}!`);
}
```



```javascript
import {default as User, sayHi} from './user.js';

new User('John');
```

ä¸Šè¿°ä»£ç æ˜¯å¯¼å…¥é»˜è®¤çš„å¯¼å‡ºä»¥åŠå‘½åçš„å¯¼å‡ºçš„æ–¹æ³•



å¦‚æœæˆ‘ä»¬å°†æ‰€æœ‰ä¸œè¥¿ `*` ä½œä¸ºä¸€ä¸ªå¯¹è±¡å¯¼å…¥ï¼Œé‚£ä¹ˆ `default` å±æ€§æ­£æ˜¯é»˜è®¤çš„å¯¼å‡ºï¼š

```javascript
// ğŸ“ main.js
import * as user from './user.js';

let User = user.default; // é»˜è®¤çš„å¯¼å‡º
new User('John');
```



**æ³¨æ„ï¼:åœ¨ {...} ä¸­çš„ import/export è¯­å¥æ— æ•ˆã€‚**

```javascript
if (something) {
  import {sayHi} from "./say.js"; // Error: import must be at top level
}
```